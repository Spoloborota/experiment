# Docker Files

Эта директория содержит все Docker-related файлы для проекта.

## Файлы:

### `server.dockerfile`
Production версия сервера с многоэтапной сборкой:
- Использует Alpine Linux для минимального размера
- Непривилегированный пользователь для безопасности
- Статическая компиляция Go приложения
- Health check эндпоинт

### `migrations.dockerfile`
Контейнер для выполнения миграций базы данных:
- Изолированное выполнение миграций
- Автоматическое применение при запуске
- Возможность ручного управления через CLI

### `debug.dockerfile`
Debug версия сервера с Delve дебаггером:
- Включает Delve для удаленной отладки
- Live reload исходного кода
- Порт 2345 для подключения дебаггера
- Подходит для разработки

## Использование:

Все команды выполняются из корневой директории проекта:

```bash
# Сборка всех образов
make docker-build

# Запуск production версии
make docker-up

# Запуск с дебаггером
make docker-debug
```

## Лучшие практики:

1. **Версионирование**: Всегда используйте фиксированные версии базовых образов
2. **Безопасность**: Запуск под непривилегированным пользователем
3. **Размер**: Многоэтапная сборка для минимизации размера
4. **Кеширование**: Оптимальный порядок COPY команд для Docker cache 